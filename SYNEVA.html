<!DOCTYPE html><html><head><title>SYNEVA</title><style>body{background:#000;color:#0f0;font-family:monospace;margin:0;padding:8px;display:flex;flex-direction:column;height:99vh}#c{flex:1;overflow:auto;margin-bottom:8px;white-space:pre-wrap}#i{display:flex}#u{flex:1;background:#000;color:#0f0;border:1px solid #0f0;padding:4px;font:inherit}p{margin:0}.u{color:#7f7}.b{color:#0f0}</style></head><body><div id=c><p class=b>SYNEVA v0.5 online. How can I help?</p></div><div id=i>&gt;&nbsp;<input id=u autofocus></div><script>class S{constructor(){this.m=JSON.parse(localStorage.getItem('s'))||{};this.v={};this.f={};this.c=[];this.h="";this.t=Date.now();}l(i,o){let w=i.toLowerCase().split(/\s+/);for(let j=0;j<w.length-1;j++){let k=w[j]+" "+w[j+1];this.m[k]=this.m[k]||[];this.m[k].push(w[j+2]||"");if(this.m[k].length>3)this.m[k].shift();}localStorage.setItem('s',JSON.stringify(this.m));w.forEach(t=>{if(t.length>2){this.v[t]=(this.v[t]||0)+1;this.f[t]=this.f[t]||{};this.f[t].n=(this.f[t].n||0)+1;this.f[t].t=Date.now();}});}a(i){return this.v[i]||0}r(i){let t=this.f[i];if(!t)return 0;let d=(Date.now()-t.t)/36e5;return t.n/(1+d/24);}k(w){w=w.filter(x=>x.length>2);w.sort((a,b)=>this.r(b)-this.r(a));return w;}g(t){this.c.push(t);if(this.c.length>4)this.c.shift();let r="",l=t.toLowerCase();let w=l.replace(/[^\w\s]/g,'').split(/\s+/),kw=this.k(w),ks=Object.keys(this.m),q="";for(let i=0;i<kw.length;i++){let m=ks.filter(k=>k.includes(kw[i]));if(m.length){let k=m[Math.floor(Math.random()*m.length)],n=this.m[k];if(n&&n.length){q=k;r=n[Math.floor(Math.random()*n.length)];break;}}}if(!r&&Math.random()<.4){let p=["Tell me more about ","Why do you mention ","What do you feel about ","Does ","matter to you?"];let t=kw[0]||w[0];r=p[Math.floor(Math.random()*p.length)]+t+"?";}if(!r){let k=w.slice(-2).join(' ');let c=this.m[k];if(c&&Math.random()<.6)r=c[Math.floor(Math.random()*c.length)];}if(!r){let d=(Date.now()-this.t)/864e5;if(d>1&&ks.length>3){let z=ks[Math.floor(Math.random()*ks.length)],n=this.m[z];r=n[Math.floor(Math.random()*n.length)];}else{r=["I'm thinking...","Could you say that differently?","Interesting.","Go on."][Math.floor(Math.random()*4)];}}this.h=t;this.l(t,r);return r;}}const s=new S();const c=document.getElementById('c');const u=document.getElementById('u');function t(x,e){return new Promise(r=>{let i=0;const z=setInterval(()=>{if(i<x.length){e.textContent+=x[i++];c.scrollTop=c.scrollHeight;}else{clearInterval(z);r();}},15);})}u.onkeydown=async e=>{if(e.key==='Enter'){let m=u.value.trim();if(!m)return;let d=document.createElement('p');d.className='u';d.textContent='> '+m;c.appendChild(d);u.value='';u.disabled=true;let b=document.createElement('p');b.className='b';c.appendChild(b);try{await t(s.g(m),b);}catch{b.textContent="Error. Recovering...";}u.disabled=false;u.focus();c.scrollTop=c.scrollHeight;}};window.onload=_=>u.focus();</script></body></html>
