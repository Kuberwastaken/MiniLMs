<!DOCTYPE html><meta charset=utf-8><title>S</title><style>*{margin:0;font:13px/1.3 monospace}body{background:#000;height:100vh;display:flex;flex-direction:column;padding:5px;color:#0f0}#o{flex:1;overflow:auto;padding:3px;white-space:pre-wrap}#i{background:#111;border:1px solid #0f0;color:#0f0;padding:3px;margin-top:3px;outline:0;width:calc(100% - 8px)}::selection{background:#0f0;color:#000}.a{color:#66f}.b{color:#0f0}.c{color:#0a0}</style><body><div id=o></div><input id=i placeholder="..." autofocus><script>
    let T=[["Hello! Need help?","Hi there!","Greetings!"],["I'm SYNEVA, a neural chatbot","I'm here to chat","I process various topics"],["Could you explain more?","Tell me more","What else can you share?"],["I see. What's next?","Got it. Anything else?","I understand now"],["That's great news!","I'm glad to hear that","Sounds positive!"],["I'm here if you need to talk","Something wrong?","How can I help?"],["I'm still learning that","I lack info","Beyond my abilities"],["Let's try another topic","Want to switch topics?","What else interests you?"],["Interesting perspective","I'm curious about that","Why do you think so?"],["Goodbye then!","Until next time!","Have a great day!"],["Yes, that's correct","I agree, that's right","You're on point"],["No, that's not right","I don't think so","That seems incorrect"]],
    D={"how are you":[4,"I'm doing great, thanks! How about you?"],"hi":[0,"Hello! How can I help with {0}?"],"why":[2,"I think it's because {0}, based on what I understand"],"what":[2,"{0} is an interesting concept to explore"],"how":[2,"To {0}, consider a few steps"],"can":[2,"Yes, {0} should be possible"],"help":[0,"Happy to help with {0}"],"like":[8,"I find {0} fascinating too"],"time":[8,"Time matters for {0}"],"you":[1,"As an AI, I try to {0} well"],"syneva":[1,"SYNEVA is built to {0}"],"thanks":[4,"You're welcome! Glad I helped with {0}"],"bye":[9,"Goodbye! Hope {0} goes well"],"life":[8,"Life is about {0} and more"],"meaning":[8,"Meaning in {0} is profound"],"is":[10,"Let me check if {0} is correct"]},
    K={"cats are mammals":1,"lions are cats":1,"ai is tech":1,"water is liquid":1,"birds can fly":1,"penguins are birds":1,"humans are mammals":1,"sun is star":1,"earth is planet":1,"1+1=2":1},
    W={vocab:{"hi":0,"hello":0,"hey":0,"why":1,"what":2,"how":3,"you":4,"syneva":5,"bye":6,"good":7,"bad":8,"help":9,"time":10,"life":11,"meaning":12,"is":13,"are":14,"to":15,"cat":16,"mammal":17,"lion":18,"ai":19,"water":20,"bird":21,"fly":22,"penguin":23,"human":24,"sun":25,"star":26,"earth":27,"planet":28},
    E:[[1,-2,3,1],[2,1,-1,3],[3,-1,2,-2],[1,3,-2,1],[-1,2,1,-3],[2,-3,1,2],[1,1,-2,3],[3,2,-1,1],[-2,1,3,-1],[-1,3,-2,2],[2,-1,3,1],[-3,2,1,-2],[1,-2,3,1],[2,1,-1,3],[1,-1,2,-2],[3,2,-1,1],[1,2,-1,3],[2,-1,3,2],[3,1,-2,1],[1,-3,2,1],[2,1,-1,3],[1,2,-1,3],[2,-1,3,2],[3,1,-2,1],[1,-3,2,1],[2,1,-1,3],[1,2,-1,3],[2,-1,3,2],[3,1,-2,1]].map(r=>r.map(x=>x/10)),
    W1:Array(48).fill().map(_=>Array(8).fill().map(_=>(Math.random()-.5)*.1)),W2:Array(8).fill().map(_=>Array(14).fill().map(_=>(Math.random()-.5)*.1)),b1:Array(8).fill(0),b2:Array(14).fill(0),
    e:t=>{let v=Array(48).fill(0),w=t.toLowerCase().split(/\W+/).slice(0,12);w.forEach((x,i)=>{let j=W.vocab[x]||0;if(W.E[j])for(let k=0;k<4;k++)v[i*4+k]=W.E[j][k]});return v},
    d:i=>{let h=Array(8).fill(0);for(let j=0;j<8;j++){for(let k=0;k<48;k++)h[j]+=i[k]*W.W1[k][j];h[j]=Math.max(0,h[j]+W.b1[j])}let o=Array(14).fill(0);for(let j=0;j<14;j++){for(let k=0;k<8;k++)o[j]+=h[k]*W.W2[k][j];o[j]+=W.b2[j]}let m=Math.max(...o),e=o.map(x=>Math.exp(x-m)),s=e.reduce((a,b)=>a+b,0);return e.map(x=>x/s)}},
    R=[
    {r:/if (.*) is (.*) and (.*) is (.*), is (.*) (.*)\?/,f:(m,q)=>m[1]==m[3]&&m[2]==m[4]&&m[3]==m[5]?["Yes, "+m[5]+" is "+m[6],["Given: "+m[1]+" is "+m[2],"Given: "+m[3]+" is "+m[4],"Transitive: "+m[5]+" is "+m[6]]]:null},
    {r:/is (.*) (.*)\?/,f:(m,q)=>K[m[1]+" is "+m[2]]?["Yes, "+m[1]+" is "+m[2],["Fact: "+m[1]+" is "+m[2]]]:K[m[1]+" is not "+m[2]]?["No, "+m[1]+" is not "+m[2],["Fact: "+m[1]+" is not "+m[2]]]:null},
    {r:/if (.*) then (.*), (.*)\?/,f:(m,q)=>m[1].split(" ").every(w=>q.includes(w))?["Yes, "+m[2],["If: "+m[1],"Then: "+m[2],"Given: "+m[1]]]:null},
    {r:/not (.*) is (.*)\?/,f:(m,q)=>K[m[1]+" is "+m[2]]?["No, "+m[1]+" is "+m[2],["Fact: "+m[1]+" is "+m[2],"Negation fails"]]:["Yes, "+m[1]+" is not "+m[2],["No fact: "+m[1]+" is "+m[2]]]},
    {r:/(.*)=(.*)\?/,f:(m,q)=>m[1]==m[2]?["Yes, "+m[1]+" equals "+m[2],["Identity: "+m[1]+"="+m[2]]]:["No, "+m[1]+" does not equal "+m[2],["Non-identity: "+m[1]+"!="+m[2]]]}
    ],
    O=document,E=O.getElementById('o'),I=O.getElementById('i'),H=[],Z=[],S={t:"",e:[],f:[],i:""},L=-1,
    V=(c,q,h,f,k)=>(c=c.map(x=>x.toLowerCase()),q=q.toLowerCase(),h=h.map(x=>x.toLowerCase()),k=Object.keys(k).map(x=>x.toLowerCase()),.4*(c.every((x,i)=>i==0||!c.slice(0,i).some(y=>y.includes("not "+x.split(" ")[1])||x.includes("not "+y.split(" ")[1])))+.4*(c.length>1&&c[c.length-1].includes(q.split(/\W+/).slice(-2).join(" "))+c.some(x=>x.includes("yes")||x.includes("no")))+.2*(q.split(/\W+/).filter(w=>c.some(x=>x.includes(w))).length/q.split(/\W+/).length+h.filter(x=>x.split(/\W+/).some(w=>c.some(y=>y.includes(w)))).length/h.length)),
    Y=r=>Z.unshift(r,Z.length>3&&Z.pop(),r),
    X=t=>(t=t.toLowerCase(),{G:/hi|hello|hey/.test(t),Q:/\?|how|what|why/.test(t),I:/you$|your|syneva/.test(t),F:/bye|exit|done|goodbye/.test(t),P:/good|well|happy|great|yes|yeah|sure/.test(t),N:/bad|sad|upset|problem|no|not/.test(t),L:/if|then|is.*\?|=/.test(t)}),
    J=(t,s,k)=>{let l=t.toLowerCase();if(l.includes("how are you"))return[4,D["how are you"][1],[]];for(let x in k)if(l.includes(x))return[10,"Based on what I know, "+x,[x]];let w=l.split(/\W+/).filter(x=>x.length>2),j="";for(let i=0;i<w.length;i++)if(D[w[i]]){j=w[i];let c=w.filter(x=>x!=j).join(" ")||"that";return[D[j][0],D[j][1].replace("{0}",c),[]]}for(let r of R){let m=l.match(r.r);if(m){let o=r.f(m,t);if(o)return[10,o[0],o[1]]}}return[-1,"",[]]},
    P=(t,i=0)=>{if(!t.trim())return Y("Please ask something");H.unshift(t);H.length>5&&H.pop();S.i=X(t).L?"logical":X(t).Q?"question":X(t).G?"greeting":"chat";S.e=t.toLowerCase().split(/\W+/).filter(w=>W.vocab[w]);for(let x in K)t.toLowerCase().includes(x)&&S.f.push(x);let c=[],f=X(t),o=W.d(W.e(t)),[d,p,s]=J(t,S,K),m=0;if(p&&Z.indexOf(p)<0&&V(s,t,H,S.f,K)>.6)c.push([p,s,V(s,t,H,S.f,K)]);o.forEach((v,j)=>v>o[m]&&(m=j));if(f.G&&t.length<12)m=0;if(f.I)m=1;if(f.Q)m=2;if(f.P)m=4;if(f.N)m=5;if(f.F)m=9;if(f.L)m=10;let r=T[m][~~(Math.random()*T[m].length)];c.push([r,[r],V([r],t,H,S.f,K)]);if(f.Q||f.L){let n=(m+1)%14,j=T[n][~~(Math.random()*T[n].length)];c.push([j,[j],V([j],t,H,S.f,K)])}let b=c.reduce((a,x)=>x[2]>a[2]?x:a,c[0]);if(i<2&&b[2]<.6){let n=W.e(t);n[0]+=(Math.random()-.5)*.1;return P(t,i+1)}if(b[1].length>1)S.f.push(b[0]);L=m;return Y(b[0])};
    E.innerHTML=`V10.15\n\n<span class=c>SYNEVA</span>\n\n<span class=b>S: ${T[0][0]}</span>`;
    I.onkeydown=e=>{if(e.key=="Enter"){let t=I.value.trim();if(t){E.innerHTML+=`\n\n<span class=a>Y: ${t}</span>\n\n<span class=b>S: ${P(t)}</span>`;I.value="";E.scrollTop=9e9}}};
    </script></body>